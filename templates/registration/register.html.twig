{% extends 'base.html.twig' %}

{% block title %}Register{% endblock %}

{% block body %}
    {% for flash_error in app.flashes('verify_email_error') %}
        <div class="alert alert-danger" role="alert">{{ flash_error }}</div>
    {% endfor %}
    <div class="login-container container mt-4 mb-5"
         style="border-radius: 0.5rem; background-color: white; padding: 2rem;">
        <h1 class="bt-1 login-title">Register</h1>

        {{ form_errors(registrationForm) }}

        {{ form_start(registrationForm) }}
        {{ form_rest(registrationForm)  }}
        <button type="submit" class="mt-2 btn btn-warning form-control mb-4 rounded-pill" style="width: 100%">Register</button>
        {#                Register Redirect #}
        {{ form_end(registrationForm) }}
        {#    {{ form(registrationForm) }} #}
        <a href="{{ path('login') }}" style="color: cornflowerblue">
            <u> Already Have An Account ? </u>
        </a>
    </div>
{% endblock %}
{% block stylesheets %}
    {{ parent() }}
    <style>
        .login-container {
            position: relative;
            z-index: 10;
            /*height: 110vh;*/
            padding: 20px;
        }

        .login-form {
            background: rgba(74, 74, 74, 0.95);
            backdrop-filter: blur(15px);
            padding: 40px;
            border-radius: 20px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .login-title {
            color: var(--secondary-color);
            font-size: 38px;
            font-weight: 600;
            margin-bottom: 40px;
        }
    </style>
{% endblock %}

{#{% block javascripts %}#}
{#    {{ parent() }}#}
{#    #}{#    // 2Bhonest, script generated by v0.dev #}
{#    <script>#}
{#        document.addEventListener('DOMContentLoaded', function () {#}
{#            const passwordField = document.getElementById('registration_form_plainPassword');#}
{#            const strengthIndicator = document.createElement('div');#}
{#            strengthIndicator.className = 'password-strength';#}
{#            passwordField.parentNode.appendChild(strengthIndicator);#}

{#            passwordField.addEventListener('input', function () {#}
{#                const password = this.value;#}
{#                const strength = calculatePasswordStrength(password);#}
{#                updateStrengthIndicator(strengthIndicator, strength);#}
{#            });#}

{#            function calculatePasswordStrength(password) {#}
{#                let score = 0;#}
{#                if (password.length >= 8) score++;#}
{#                if (/[a-z]/.test(password)) score++;#}
{#                if (/[A-Z]/.test(password)) score++;#}
{#                if (/[0-9]/.test(password)) score++;#}
{#                if (/[^A-Za-z0-9]/.test(password)) score++;#}

{#                return score;#}
{#            }#}

{#            function updateStrengthIndicator(element, strength) {#}
{#                const levels = ['Very Weak', 'Weak', 'Fair', 'Good', 'Strong'];#}
{#                const colors = ['#ff4444', '#ff8800', '#ffbb00', '#88cc00', '#00cc44'];#}

{#                element.textContent = `Password Strength: ${levels[strength] || 'Very Weak'}`;#}
{#                element.style.color = colors[strength] || colors[0];#}
{#            }#}
{#        });#}
{#    </script>#}
{#{% endblock %}#}
